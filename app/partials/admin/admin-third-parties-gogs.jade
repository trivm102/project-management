
//- This source code is licensed under the terms of the
//- GNU Affero General Public License found in the LICENSE file in
//- the root directory of this source tree.
//-
//- Copyright (c) 2021-present Kaleidos INC

doctype html

div.wrapper.roles(
    tg-gogs-webhooks
    ng-controller="GogsController as ctrl",
    ng-init="section='admin'"
)
    tg-project-menu
    sidebar.menu-secondary.sidebar.settings-nav(tg-admin-navigation="third-parties")
        include ../includes/modules/admin-menu
    sidebar.menu-tertiary.sidebar(tg-admin-navigation="third-parties-gogs")
        include ../includes/modules/admin-submenu-third-parties

    section.main.admin-common.admin-third-parties
        include ../includes/components/mainTitle

        form
            fieldset
                label(for="secret-key", translate="ADMIN.THIRD_PARTIES.SECRET_KEY")
                input(
                    id="secret-key"
                    type="text"
                    name="secret-key"
                    ng-model="gogs.secret"
                    placeholder="{{'ADMIN.THIRD_PARTIES.SECRET_KEY' | translate}}"
                )

            fieldset
                .select-input-text(tg-select-input-text)
                    div
                        label(for="payload-url", translate="ADMIN.THIRD_PARTIES.PAYLOAD_URL")
                        .field-with-option
                            input(
                                id="payload-url"
                                type="text"
                                name="payload-url"
                                readonly="readonly"
                                ng-model="gogs.webhooks_url"
                                placeholder="{{'ADMIN.THIRD_PARTIES.PAYLOAD_URL' | translate}}"
                            )
                            .option-wrapper.select-input-content(title="{{'COMMON.COPY_TO_CLIPBOARD' | translate}}")
                                tg-svg(svg-icon="icon-clipboard")

            button.btn-small(
                variant="primary"
                type="submit"
                title="{{'COMMON.SAVE' | translate}}"
                translate="COMMON.SAVE"
            )

        a.help-button(
            href="https://docs.taiga.io/integrations-gogs.html"
            target="_blank"
        )
            tg-svg(svg-icon="icon-question")
            span(translate="ADMIN.HELP")
